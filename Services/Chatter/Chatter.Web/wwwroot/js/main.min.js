function AddMessage(){var t=$("#inputName").val(),n={MessageText:$("#inputMessage").val(),Name:$("#inputName").val()};$.ajax({url:serviceUrl+appRoot+"/api/chat/",type:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify(n)}).done(function(){$("#inputMessage").val("")})}function DeleteMessages(){$.ajax({url:serviceUrl+appRoot+"/api/chat/",type:"DELETE",contentType:"application/json",dataType:"json"}).done(function(){$("#messages").empty()})}function GetMessages(){$.ajax({url:serviceUrl+appRoot+"/api/chat/",type:"GET",contentType:"application/json",datatype:"json",cache:!1}).done(function(n){bindData($("#messages"),n)})}function bindData(n,t){$("#messages").empty();$.each(t,function(t,i){$("<li/>").append($('<span class="message-time"/>').text($.time(i.key))).append($('<span class="message-from"/>').text(i.value.name)).append(": ").append($('<span class="message-body"/>').text(i.value.messageText)).appendTo(n)})}var appRoot="/chatter",serviceUrl=location.protocol+"//"+location.hostname+(location.port?":"+location.port:"");$(function(){setInterval(function(){GetMessages()},2e3)});$("#sendButton").click(function(){AddMessage()});$("#deleteButton").click(function(){DeleteMessages()});$.time=function(n){var t=new Date(n),i=t.getSeconds(),r=t.getMinutes(),u=t.getHours();return u+":"+r+":"+i};